#:import colors kivymd.color_definitions.colors
#:import gch kivy.utils.get_color_from_hex
#:import environ os.environ
<IndexScreen>
    canvas:
        Color:
            rgba: root.theme_cls.bg_dark
        Rectangle:
            pos: self.pos
            size: self.size

    MDBoxLayout: 
        id: box_1
        orientation: "vertical"
        size_hint: .2, .2
        pos_hint: {"center_x": .5, "center_y": .7}
        spacing: "10dp"

        Image:
            source:
                f"{environ['RED_Mobile_App_ROOT']}/assets/images/05.jpg"
            size_hint_x: .8
            pos_hint: {"center_x": .5}

        MDLabel:
            text: "RED"
            adaptive_size: True
            text_size: None, self.font_size
            theme_text_color: "Primary"
            font_style: "H6"
            pos_hint: {'center_x': .5, 'center_y': .5}

    MDBoxLayout:
        id: box_2
        adaptive_height: True
        orientation: "vertical"
        spacing: "10dp"
        padding: "30dp"
        pos_hint: {"center_y": .3}

        MDTextField:
            id: email
            hint_text: "Username"
            icon_right: "account"
            multiline: False
            focus:True
            on_text_validate: password.focus= True

        MDTextField:
            id: password
            hint_text: "Password"
            icon_right: "eye-off"
            password: True
            #on_text_validate: app.root.validate_user() 

        Widget:
            size_hint_y: None
            height: "40dp"

        BoxLayout:
            spacing: "10dp"

            Widget:

            MDFlatButton:
                id: button_cancel
                text: "CANCEL"

            MDFillRoundFlatButton:
                id: button_next
                text: "Sign in"
                on_release: root.parent.current = "home",app.validate_user(email,password)
                md_bg_color: gch(colors[root.theme_cls.primary_palette]["200"])
